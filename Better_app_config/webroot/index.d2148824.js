function e(e,t,n,d){Object.defineProperty(e,t,{get:n,set:d,enumerable:!0,configurable:!0})}var t=globalThis,n={},d={},o=t.parcelRequiree95e;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in d){var t=d[e];delete d[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){d[e]=t},t.parcelRequiree95e=o);var a=o.register;a("7qALL",function(e,t){var n=o("5tSLu");console.log("Loader Webui"),(0,n.toast)("WebUI已加载"),(0,n.fullScreen)(!1);let d=document.getElementById("app");if(!d){console.error("未找到#app容器");return}let a="/data/adb/modules/better_app_config";async function i(e,t=!1,d=a,o=!1){let l=o?e:`${a}/lib/busybox_run.sh "${e}"`;try{let{errno:e,stdout:o,stderr:a}=await (0,n.exec)(l,{cwd:d});if(0===e)return t?`\u{6807}\u{51C6}\u{8F93}\u{51FA}\u{6D41}: 
${o}
\u{9519}\u{8BEF}\u{8F93}\u{51FA}\u{6D41}: 
${a}
\u{9000}\u{51FA}\u{4EE3}\u{7801}: ${e}`:o;return t?`\u{9519}\u{8BEF}: 
\u{6807}\u{51C6}\u{8F93}\u{51FA}\u{6D41}: 
${o}
\u{9519}\u{8BEF}\u{8F93}\u{51FA}\u{6D41}: 
${a}
\u{9000}\u{51FA}\u{4EE3}\u{7801}: ${e}`:`\u{9519}\u{8BEF}: 
${a}`}catch(e){return t?`\u{9519}\u{8BEF}: 
\u{6807}\u{51C6}\u{8F93}\u{51FA}\u{6D41}: 
${e.stdout}
\u{9519}\u{8BEF}\u{8F93}\u{51FA}\u{6D41}: 
${e.stderr}
\u{9000}\u{51FA}\u{4EE3}\u{7801}: ${e.errno}`:`\u{9519}\u{8BEF}: 
${e.message}`}}let l=document.createElement("div");l.classList.add("title-container");let s=document.createElement("h5");s.textContent="Module Webui",s.classList.add("allowClick");let c=0;s.addEventListener("click",function(){c++,ksu.toast("被点了一次"),3===c&&(c=0,window.location.href="https://github.com/linying2024/Better_root_environment/tree/main/Better_app_config/0ksu_webroot")});let r=document.createElement("h5");r.textContent="version",r.classList.add("allowClick");let u=0;async function p(e,t=!0,n=a,d=!1){M.textContent="执行中",setTimeout(async()=>{try{let o=await i(e,t,n,d);M.textContent=o,B.scrollTop=B.scrollHeight}catch(e){console.error("执行命令时发生错误:",e),M.textContent="执行命令时发生错误: "+e.message}},100)}r.addEventListener("click",function(){switch(++u){case 1:ksu.toast("?");break;case 2:ksu.toast("你干嘛??");break;case 3:ksu.toast("你到底要做什么???");break;case 4:ksu.toast("不要再点了啊!!!!");break;case 5:ksu.toast("别点了,再点要坏掉了.....");break;case 6:ksu.toast("真的不能再点了,真的会坏掉的啊......");break;case 7:u=0,ksu.toast("不听劝是吧?你完了......."),window.location.href="error.html"}}),l.appendChild(r),l.appendChild(s),d.appendChild(l),async function(){try{let e=await i(`sed -n 's/^version=//p' ${a}/module.prop`),t=await i(`sed -n 's/^versionCode=//p' ${a}/module.prop`);r.textContent=`\u{7248}\u{672C}: ${e} (${t})`}catch(e){console.error("执行命令时发生错误:",e)}}();let m=document.createElement("div");m.classList.add("card");let h=document.createElement("div");h.classList.add("card-header"),h.textContent="控制区";let C=document.createElement("div");C.classList.add("card-body");let E=document.createElement("div");E.classList.add("button-container");let f=["配置 Tricky-Store 模块","更新 boot hash(必须保证模块自带的密钥认证APP已安装)","一键重新配置","安装模块自带的app"].map(e=>{let t=document.createElement("button");return t.textContent=e,E.appendChild(t),t});C.appendChild(E);let b=document.createElement("button");b.textContent="打开隐藏应用列表菜单";let y=document.createElement("p");y.classList.add("input-container"),y.textContent="提示:命令较多时可能会卡住或者日志未输出,这是正常现象";let $=document.createElement("div");$.classList.add("input-container");let v=document.createElement("p");v.textContent="自定义shell执行";let x=document.createElement("input");x.type="text",x.placeholder="输入自定义sh命令";let L=document.createElement("button");L.textContent="执行",$.appendChild(x),$.appendChild(L);let k=document.createElement("div");k.classList.add("input-container");let g=document.createElement("p");g.textContent="←打开网址";let w=document.createElement("input");w.type="text",w.placeholder="输入您想要打开的网址";let _=document.createElement("button");_.textContent="打开",k.appendChild(w),k.appendChild(_),C.appendChild(b),C.appendChild(y),C.appendChild(document.createElement("br")),C.appendChild(v),C.appendChild($),C.appendChild(document.createElement("br")),C.appendChild(k),C.appendChild(g),m.appendChild(h),m.appendChild(C);let A=document.createElement("div");A.classList.add("card");let F=document.createElement("div");F.classList.add("card-header"),F.textContent="日志信息";let B=document.createElement("div"),M=document.createElement("pre");M.classList.add("log-body"),M.textContent="还没有命令执行呢";let D=document.createElement("ul");D.appendChild(M),B.appendChild(D),A.appendChild(F),A.appendChild(B),f.forEach((e,t)=>{e.addEventListener("click",()=>{p([`sh ${a}/Tricky_Store/get_config.sh`,`rm -f gethash.done;sh ${a}/getboothash.sh`,`sh ${a}/action.sh`,`sh ${a}/apks/install.sh`][t])})}),L.addEventListener("click",async()=>{p(x.value)}),_.addEventListener("click",async()=>{(0,n.fullScreen)(!1),ksu.toast("已打开网页"),window.location.href=w.value}),b.addEventListener("click",()=>{let e=document.createElement("div");e.classList.add("hma-body"),e.classList.add("card");let t=document.createElement("button");t.textContent="x",t.classList.add("close-button"),t.addEventListener("click",()=>{document.body.removeChild(e)});let n=document.createElement("div");n.classList.add("card-header"),n.textContent="设置隐藏应用列表",n.appendChild(t),document.createElement("div").classList.add("card-body");let o=document.createElement("div");o.classList.add("button-container"),["配置 隐藏应用列表 APP","隐藏应用列表切换黑名单模式","隐藏应用列表切换白名单模式","关闭隐藏应用列表自动重载","开启隐藏应用列表自动重载"].map(e=>{let t=document.createElement("button");return t.textContent=e,o.appendChild(t),t}).forEach((t,n)=>{t.addEventListener("click",()=>{document.body.removeChild(e),p([`sh ${a}/Hide_My_Applist/get_config.sh`,`rm -f ${a}/Hide_My_Applist/whitelist.mode;sh ${a}/Hide_My_Applist/get_config.sh`,`touch ${a}/Hide_My_Applist/whitelist.mode;sh ${a}/Hide_My_Applist/get_config.sh`,`rm -f ${a}/Hide_My_Applist/reload`,`touch ${a}/Hide_My_Applist/reload`][n])})});let l=`sed -n 's/^HMAPackageName=//p' "${a}/webroot/webUiConfig.prop"`,s=`sed -n 's/^ProfileName=//p' "${a}/webroot/webUiConfig.prop"`,c=`sed -n 's/^GetExcludeList=//p' "${a}/webroot/webUiConfig.prop"`,r=document.createElement("p");function u(e,t,n){let d=document.createElement("div");d.classList.add("input-container");let o=document.createElement("p");o.classList.add("description-up"),o.textContent=e;let i=document.createElement("input");i.id=`${n}Input`,i.type="text",i.placeholder=`\u{5728}\u{8FD9}\u{91CC}\u{8F93}\u{5165}\u{81EA}\u{5B9A}\u{4E49}${t}`;let l=document.createElement("button");return l.textContent="保存",l.addEventListener("click",async()=>{p(`sed -i 's/^${n}=.*/${n}=${i.value}/' "${a}/webroot/webUiConfig.prop" && echo "\u{5DF2}\u{5199}\u{5165}"`)}),d.appendChild(i),d.appendChild(l),d.appendChild(o),d}r.classList.add("description-up"),r.textContent="自定义导入配置";let m=u("↑输入正确的app包名,默认为 fuck.app.check","app包名","HMAPackageName"),h=u("↑输入正确的隐藏应用列表模板名字,默认为 不可见名单","模板配置名","ProfileName"),C=u("↑输入正确的类型(输入 true 开启,输入 false 关闭),默认为 true","是否开启排除名单生成","GetExcludeList");setTimeout(async()=>{try{let e=await i(l);document.getElementById("HMAPackageNameInput").value=`${e}`;let t=await i(s);document.getElementById("ProfileNameInput").value=`${t}`;let n=await i(c);document.getElementById("GetExcludeListInput").value=`${n}`}catch(e){console.error("执行命令时发生错误:",e)}},100);let E=document.createElement("button");E.textContent="一键导入并生成配置",E.addEventListener("click",()=>{document.body.removeChild(e),p(`"${a}/Hide_My_Applist/0unpack_config.sh" "/data/user/0/$(${l})/files/config.json" "$(${s})" "$(${c})";`)}),e.appendChild(n),e.appendChild(o),e.appendChild(r),e.appendChild(m),e.appendChild(h),e.appendChild(C),e.appendChild(E),document.body.insertBefore(e,d)}),d.appendChild(m),d.appendChild(A);let H=document.createElement("div");H.id="footer",H.textContent="Designed by linying",document.body.appendChild(H)}),a("5tSLu",function(t,n){e(t.exports,"exec",()=>o),e(t.exports,"fullScreen",()=>l),e(t.exports,"toast",()=>s);let d=0;function o(e,t){return void 0===t&&(t={}),new Promise((n,o)=>{let a=`exec_callback_${Date.now()}_${d++}`;function i(e){delete window[e]}window[a]=(e,t,d)=>{n({errno:e,stdout:t,stderr:d}),i(a)};try{ksu.exec(e,JSON.stringify(t),a)}catch(e){o(e),i(a)}})}function a(){this.listeners={}}function i(){this.listeners={},this.stdin=new a,this.stdout=new a,this.stderr=new a}function l(e){ksu.fullScreen(e)}function s(e){ksu.toast(e)}a.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},a.prototype.emit=function(e,...t){this.listeners[e]&&this.listeners[e].forEach(e=>e(...t))},i.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},i.prototype.emit=function(e,...t){this.listeners[e]&&this.listeners[e].forEach(e=>e(...t))}}),o("7qALL");
//# sourceMappingURL=index.d2148824.js.map
