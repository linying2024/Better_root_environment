function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t=globalThis,n={},i={},s=t.parcelRequiree95e;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},t.parcelRequiree95e=s);var l=s.register;l("7qALL",function(e,t){var n=s("5tSLu");async function i(e,t){try{let{errno:i,stdout:s,stderr:l}=await (0,n.exec)(e,{cwd:t});if(0===i)return s;throw Error(`\u{547D}\u{4EE4}\u{6267}\u{884C}\u{5931}\u{8D25}: 
${l}`)}catch(e){return`\u{9519}\u{8BEF}: 
${e.message}`}}console.log("Loader Webui"),(0,n.toast)("WebUI已加载"),(0,n.fullScreen)(!1);let l=document.getElementById("app");if(!l){console.error("未找到#app容器");return}let o=document.createElement("h5");o.textContent="Module Webui";let r=document.createElement("div");r.classList.add("card");let d=document.createElement("div");d.classList.add("card-header"),d.textContent="控制区";let a=document.createElement("div");a.classList.add("card-body");let c=document.createElement("div");c.classList.add("button-container");let p=["一键重新配置","配置 隐藏应用列表 APP","隐藏应用列表切换白名单模式","隐藏应用列表切换黑名单模式","关闭隐藏应用列表自动重载","开启隐藏应用列表自动重载","配置 Tricky-Store 模块","更新 boot hash(必须保证模块自带的密钥认证APP已安装)","安装模块自带的app"].map(e=>{let t=document.createElement("button");return t.textContent=e,c.appendChild(t),t});a.appendChild(c);let u=document.createElement("p");u.classList.add("input-container"),u.textContent="提示:命令较多时可能会卡住或者日志未输出,这是正常现象";let h=document.createElement("div");h.classList.add("input-container");let m=document.createElement("p");m.textContent="自定义shell执行";let f=document.createElement("input");f.type="text",f.placeholder="在这里可以输入自定义sh命令";let C=document.createElement("button");C.textContent="执行",h.appendChild(f),h.appendChild(C),a.appendChild(u),a.appendChild(document.createElement("br")),a.appendChild(m),a.appendChild(h),r.appendChild(d),r.appendChild(a);let E=document.createElement("div");E.classList.add("card");let _=document.createElement("div");_.classList.add("card-header"),_.textContent="日志信息";let x=document.createElement("div"),y=document.createElement("pre");y.classList.add("log-body"),y.textContent="还没有命令执行呢";let g=document.createElement("ul");g.appendChild(y),x.appendChild(g),E.appendChild(_),E.appendChild(x);let L="/data/adb/modules/better_app_config";p.forEach((e,t)=>{e.addEventListener("click",()=>{y.textContent="执行中",setTimeout(async()=>{let e=["sh "+L+"/action.sh","sh "+L+"/Hide_My_Applist/get_config.sh","rm -f "+L+"/Hide_My_Applist/whitelist.mode;sh "+L+"/Hide_My_Applist/get_config.sh","touch "+L+"/Hide_My_Applist/whitelist.mode;sh "+L+"/Hide_My_Applist/get_config.sh","rm -f "+L+"/Hide_My_Applist/reload","touch "+L+"/Hide_My_Applist/reload","sh "+L+"/Tricky_Store/get_config.sh","rm -f gethash.done;sh "+L+"/getboothash.sh","sh "+L+"/apks/install.sh"];try{let n=await i(e[t],L);y.textContent=n,x.scrollTop=x.scrollHeight}catch(e){console.error("执行命令时发生错误:",e),y.textContent="执行命令时发生错误: "+e.message}},100)})}),C.addEventListener("click",async()=>{let e=f.value,t=await i(e,L);y.textContent=t,x.scrollTop=x.scrollHeight}),l.appendChild(o),l.appendChild(r),l.appendChild(E)}),l("5tSLu",function(t,n){e(t.exports,"exec",()=>s),e(t.exports,"fullScreen",()=>r),e(t.exports,"toast",()=>d);let i=0;function s(e,t){return void 0===t&&(t={}),new Promise((n,s)=>{let l=`exec_callback_${Date.now()}_${i++}`;function o(e){delete window[e]}window[l]=(e,t,i)=>{n({errno:e,stdout:t,stderr:i}),o(l)};try{ksu.exec(e,JSON.stringify(t),l)}catch(e){s(e),o(l)}})}function l(){this.listeners={}}function o(){this.listeners={},this.stdin=new l,this.stdout=new l,this.stderr=new l}function r(e){ksu.fullScreen(e)}function d(e){ksu.toast(e)}l.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},l.prototype.emit=function(e,...t){this.listeners[e]&&this.listeners[e].forEach(e=>e(...t))},o.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},o.prototype.emit=function(e,...t){this.listeners[e]&&this.listeners[e].forEach(e=>e(...t))}}),s("7qALL");
//# sourceMappingURL=index.043cf847.js.map
